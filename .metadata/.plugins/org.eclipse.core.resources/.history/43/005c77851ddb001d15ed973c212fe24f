package comm.octest.beans;

import java.sql.SQLException;
import java.util.HashMap;
import java.util.Map;

public class BookFactory {
	
	private  static  Map<String,Book> books= new HashMap<>();
	 
    public Author addAuthor(String author_name) throws SQLException {
        //CREATE THE KEY
        String key =  author_name;
        fetchAuthors() ;
        Book author= (Book) books.get(key) ;
        // IF IT DOESN'T EXIST, CREATE A NEW ONE IN THE MAP
        if (author == null) {
            author = new Author(author_name);
            books.put(key, author);
            author.save();   
        }
        return author;
    }


public void fetchAuthors() throws SQLException { 
    	   Book book =  new Book();
    	   author = author.fetchAuthor() ;
           String author_name = author.getAuthor_name() ;
           String key =  author_name;
           books.put(key, author);
 
    }
    
  





}
